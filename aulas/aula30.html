<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #dv1 {
            width: 100px;
            height: 100px;
            border: 1px solid #000;
            background-color: #fff;
            position: absolute;
            left: 0px;
            top: 0px;
        }

        #aviso {
            position: absolute;
            left: 110px;
        }
    </style>
</head>
<body>

    <div id="dv1"></div>
    <label id="aviso"> &lArr;= Clique em mim!!!</label>

    <script>

        let px = 0
        let py = 0
        let obj = document.getElementById('dv1')
        let aviso = document.getElementById('aviso')
        let intervalo


        function move(){
            let tecla = event.keyCode

            if(tecla == 37){
                px -= 10
                obj.style.left = px + 'px'
            } else if (tecla == 38) {
                py -= 10
                obj.style.top = py + 'px'
            } else if (tecla == 39) {
                px += 10
                obj.style.left = px + 'px'
            } else if (tecla == 40) {
                py += 10
                obj.style.top = py + 'px'
            } else if (tecla == 13) {
                alert('Evendo Keydown Removido \n (Clique no quadrado para iniciar novamente)')
                document.removeEventListener('keydown', move)
                clearInterval(intervalo)
                obj.addEventListener('click', comecar)
                obj.style.backgroundColor = '#fff'
            }
        }

        function mudaCor() {
            let r = Math.floor(Math.random()*255)
            let g = Math.floor(Math.random()*255)
            let b = Math.floor(Math.random()*255)
            obj.style.backgroundColor = 'rgb('+r+','+g+','+b
        }
        function comecar() {
            game()
        }

        function game() {
            intervalo = setInterval(mudaCor, 500)
            document.addEventListener('keydown', move)
            alert('Evento Keydown adicionado \n (Aperte "Enter" para parar)')
            aviso.innerHTML = ''
            obj.removeEventListener('click', comecar)
        }
        
        obj.addEventListener('click', comecar)
        
    </script>

</body>
</html>